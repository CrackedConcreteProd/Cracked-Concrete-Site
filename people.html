<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cracked Concrete — People</title>

  <style>
    :root{
      --blueA:#1a55ff; --blueB:#1242ff; --blueC:#0b34ff;
      --osd:#e9fbff;
      --ink: rgba(233,251,255,.92);
      --dim: rgba(233,251,255,.60);
      --line: rgba(233,251,255,.26);
      --glow: rgba(233,251,255,.18);
      --panel: rgba(0,0,0,.10);
      --panel2: rgba(0,0,0,.14);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      overflow:auto;
      color:var(--osd);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      letter-spacing:.10em;
      text-transform: uppercase;
      background: linear-gradient(180deg, var(--blueA), var(--blueB) 55%, var(--blueC));
    }

    /* CRT overlays */
    .scanlines{
      pointer-events:none;
      position:fixed; inset:0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0,0,0,.12) 0px,
        rgba(0,0,0,.12) 1px,
        rgba(0,0,0,0) 3px,
        rgba(0,0,0,0) 6px
      );
      mix-blend-mode:multiply;
      opacity:.55;
      z-index:5;
    }

    .vignette{
      pointer-events:none;
      position:fixed; inset:-20%;
      background: radial-gradient(circle at 50% 45%,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.10) 55%,
        rgba(0,0,0,.35) 85%,
        rgba(0,0,0,.55) 100%
      );
      opacity:.9;
      z-index:6;
    }

    .wrap{
      width:min(1100px, 94vw);
      margin: 32px auto 40px;
      border-radius: 14px;
      overflow:hidden;
      box-shadow: 0 0 0 2px rgba(255,255,255,.10);
      background: rgba(0,0,0,.06);
    }

    .section{
      padding:16px;
    }
    .section + .section{
      border-top:1px solid var(--line);
      background: rgba(0,0,0,.05);
    }

    .section-h{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }

    .section-h .label{
      display:flex;
      align-items:center;
      gap:10px;
      font-size:12px;
      color: var(--dim);
    }

    .dot{
      width:8px; height:8px; border-radius:2px;
      background: var(--osd);
      box-shadow: 0 0 14px var(--glow);
      opacity:.9;
    }

    .count{
      font-size:12px;
      color: var(--dim);
      border:1px solid var(--line);
      padding:2px 8px;
      border-radius:999px;
      background: rgba(0,0,0,.10);
      white-space:nowrap;
    }

    /* TOP */
    .directory{
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:12px;
      min-height: 520px;
    }

    .panel{
      border:1px solid var(--line);
      border-radius:10px;
      background: var(--panel);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
      overflow:hidden;
      min-height:0;
    }

    .panel-h{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 12px;
      border-bottom:1px solid var(--line);
      background: var(--panel2);
      font-size:12px;
      color: var(--dim);
    }

    .list{
      padding:10px;
      display:grid;
      gap:8px;
      max-height: 520px;
      overflow:auto;
    }

    .person-btn{
      width:100%;
      text-align:left;
      border:1px solid var(--line);
      background: rgba(0,0,0,.10);
      color: var(--ink);
      border-radius:10px;
      padding:10px 10px 10px 12px;
      cursor:pointer;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-family: inherit;
      position:relative;
      outline:none;
      box-shadow: 0 0 0 1px rgba(255,255,255,.04);
    }
    .person-btn:hover{ background: rgba(0,0,0,.14); }

    .person-btn[aria-selected="true"]{
      background: rgba(0,0,0,.18);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.08),
        0 0 24px rgba(233,251,255,.10);
    }

    .person-btn[aria-selected="true"]::before{
      content:"▶";
      position:absolute;
      left:10px;
      top:50%;
      transform:translateY(-50%);
      color: var(--osd);
      opacity:.9;
    }

    .person-btn .name{
      font-size:13px;
      line-height:1.2;
      text-shadow: 0 0 10px var(--glow);
      padding-left:18px;
    }

    .person-btn .role{
      margin-top:6px;
      font-size:11px;
      color: var(--dim);
      padding-left:18px;
    }

    .bio{
      padding:12px;
      max-height: 520px;
      overflow:auto;
    }

    .bio-card{
      border:1px solid var(--line);
      border-radius:10px;
      background: rgba(0,0,0,.10);
      padding:12px;
      box-shadow: 0 0 0 1px rgba(255,255,255,.05);
    }

    .bio-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }

    .bio-name{
      font-size:16px;
      color: var(--ink);
      text-shadow: 0 0 14px var(--glow);
      line-height:1.2;
    }

    .tag{
      font-size:11px;
      color: var(--dim);
      border:1px solid var(--line);
      border-radius:999px;
      padding:2px 8px;
      white-space:nowrap;
      background: rgba(0,0,0,.08);
    }

    .bio-text{
      margin-top:10px;
      font-size:12px;
      letter-spacing:.08em;
      color: var(--dim);
      line-height:1.4;
    }

    .row{
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    .chip{
      font-size:11px;
      border:1px solid var(--line);
      color: var(--dim);
      padding:2px 8px;
      border-radius:6px;
      background: rgba(0,0,0,.08);
    }

    /* BOTTOM: LOOPING TICKER (auto + user controlled) */
    .ticker-shell{
      border:1px solid var(--line);
      border-radius:10px;
      background: rgba(0,0,0,.10);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
      overflow:hidden;
      position:relative;
    }

    .ticker{
      overflow:hidden;
      cursor: grab;
      user-select:none;
      touch-action: pan-y;
    }
    .ticker:active{ cursor: grabbing; }

    .ticker-track{
      display:flex;
      gap:10px;
      align-items:stretch;
      padding:10px;
      width:max-content;
      will-change: transform;
      transform: translateX(0px);
    }

    .client{
      min-width: 260px;
      border:1px solid var(--line);
      border-radius:10px;
      background: rgba(0,0,0,.10);
      padding:10px 12px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:10px;
      box-shadow: 0 0 0 1px rgba(255,255,255,.05);
    }

    .client .title{
      font-size:13px;
      color: var(--ink);
      text-shadow: 0 0 10px var(--glow);
      line-height:1.2;
    }

    .client .meta{
      font-size:11px;
      color: var(--dim);
      line-height:1.35;
    }

    .ticker-bar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 12px 12px;
      border-top:1px solid var(--line);
      background: rgba(0,0,0,.08);
      color: var(--dim);
      font-size:11px;
    }

    .kbd{
      border:1px solid var(--line);
      padding:2px 8px;
      border-radius:6px;
      background: rgba(0,0,0,.08);
      color: var(--ink);
      white-space:nowrap;
    }

    .btn{
      border:1px solid var(--line);
      background: rgba(0,0,0,.10);
      color: var(--ink);
      font-family: inherit;
      text-transform: uppercase;
      letter-spacing:.10em;
      padding:6px 10px;
      border-radius:10px;
      cursor:pointer;
    }
    .btn:hover{ background: rgba(0,0,0,.14); }

    /* Scrollbars */
    .list::-webkit-scrollbar,
    .bio::-webkit-scrollbar{ width:10px; height:10px; }
    .list::-webkit-scrollbar-thumb,
    .bio::-webkit-scrollbar-thumb{
      background: rgba(233,251,255,.14);
      border-radius: 999px;
      border:2px solid rgba(0,0,0,.10);
    }

    @media (max-width: 900px){
      .directory{ grid-template-columns: 1fr; }
      .list, .bio{ max-height: none; }
      .client{ min-width: 230px; }
    }
  </style>

  <link rel="stylesheet" href="tv-bezel.css">
  <script src="tv-bezel.js" defer></script>
</head>

<body>
  <div class="wrap">

    <!-- TOP -->
    <section class="section" id="team">
      <div class="section-h">
        <div class="label"><span class="dot"></span> TEAM</div>
        <div class="count" id="teamCount">00</div>
      </div>

      <div class="directory">
        <div class="panel">
          <div class="panel-h">
            <span>PEOPLE</span>
            <span>↑↓</span>
          </div>
          <div class="list" id="peopleList" role="listbox" aria-label="people list"></div>
        </div>

        <div class="panel">
          <div class="panel-h">
            <span id="profileTitle">PROFILE</span>
            <span class="count" id="profileCode">00</span>
          </div>
          <div class="bio" id="bioPane" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <!-- BOTTOM -->
    <section class="section" id="clients">
      <div class="section-h">
        <div class="label"><span class="dot"></span> CLIENTS</div>
        <div class="count" id="clientCount">00</div>
      </div>

      <div class="ticker-shell">
        <div class="ticker" id="ticker" aria-label="client ticker">
          <div class="ticker-track" id="tickerTrack"></div>
        </div>

        <div class="ticker-bar">
          <div>
            <span class="kbd">SCROLL</span> /
            <span class="kbd">DRAG</span>
          </div>
          <div style="display:flex; gap:8px; align-items:center;">
            <button class="btn" id="toggleBtn" type="button">PAUSE</button>
            <span class="count" id="speedLabel">SPD: 1.0X</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div class="scanlines"></div>
  <div class="vignette"></div>

  <script>
    // ---------- DATA ----------
    const PEOPLE = [
      {
        id: "01",
        name: "BEN MOULAND",
        role: "DIRECTOR / EDITOR",
        bio: "EXPERIMENTAL DOCS • MUSIC SESSIONS • CRT/OSD BRAND SYSTEMS • POST PIPELINES. FOCUS ON CULTURE-DRIVEN WORK WITH A CLEAN, TACTILE FINISH.",
        chips: ["VANCOUVER, BC", "DOC", "COMMERCIAL"]
      },
      {
        id: "02",
        name: "[NAME HERE]",
        role: "PRODUCER",
        bio: "LOGISTICS • BUDGETS • PERMITS • SCHEDULING • CLIENT OPS. BUILDS STRUCTURE SO THE SHOOT FEELS EASY AND THE POST STAYS FAST.",
        chips: ["PRODUCTION", "BUDGETING", "CREWING"]
      },
      {
        id: "03",
        name: "[NAME HERE]",
        role: "DP / CAMERA",
        bio: "CINEMA CAMERA • LIGHTING • RUN-AND-GUN • ARCHIVAL / ANALOG TOOLING. SHAPES LOOKS THAT FEEL DOCUMENTARY-REAL BUT DESIGNED.",
        chips: ["CAMERA", "LIGHTING", "GRIP"]
      },
      {
        id: "04",
        name: "[NAME HERE]",
        role: "SOUND / MUSIC",
        bio: "LOCATION SOUND • MIX PREP • MUSIC COLLABS • LIVE SESSION CAPTURE. MAKES AUDIO FEEL PRESENT, WARM, AND INTENTIONAL.",
        chips: ["SOUND", "MUSIC", "POST"]
      }
    ];

    const CLIENTS = [
      { title:"VANCOUVER BANDITS", meta:"SPORTS / DOC • PLAYER FEATURES • EDITIAL DELIVERABLES", chips:["SHOOT","EDIT","SOCIAL CUTS"] },
      { title:"[CLIENT / ARTIST]", meta:"MUSIC VIDEO • PERFORMANCE CAPTURE • DELIVERABLE PACK", chips:["1:1","9:16","16:9"] },
      { title:"[CLIENT / ORG]", meta:"BRAND • PRODUCT SPOTS • EVENT RECAPS • CAMPAIGN ASSETS", chips:["PRODUCTION","POST","DELIVERY"] },
      { title:"[CLIENT / FESTIVAL]", meta:"EVENT • TRAILERS • SOCIAL PROMOS • ON-SITE", chips:["TRAILER","RECAP","PRESS"] },
      { title:"[CLIENT / STUDIO]", meta:"POST SERVICES • PROXIES • COLOR PREP • FINISHING • QC", chips:["COLOR","QC","EXPORT"] },
      { title:"[CLIENT / ARTIST]", meta:"PORTRAITS • BTS • ARCHIVAL EDITS", chips:["BTS","STILLS","EDIT"] },
    ];

    // ---------- TOP: LIST + BIO ----------
    const peopleList = document.getElementById("peopleList");
    const bioPane = document.getElementById("bioPane");
    const teamCount = document.getElementById("teamCount");
    const profileCode = document.getElementById("profileCode");

    let selectedIndex = 0;

    function renderPeopleList(){
      peopleList.innerHTML = "";
      PEOPLE.forEach((p, i) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "person-btn";
        btn.setAttribute("role","option");
        btn.setAttribute("aria-selected", i === selectedIndex ? "true" : "false");
        btn.dataset.index = i;

        btn.innerHTML = `
          <div class="name">${p.name}</div>
          <div class="role">${p.role}</div>
        `;

        btn.addEventListener("click", () => selectPerson(i, true));
        peopleList.appendChild(btn);
      });

      teamCount.textContent = String(PEOPLE.length).padStart(2,"0");
    }

    function renderBio(i){
      const p = PEOPLE[i];
      profileCode.textContent = p.id;

      const chips = (p.chips || []).map(c => `<span class="chip">${c}</span>`).join("");
      bioPane.innerHTML = `
        <div class="bio-card">
          <div class="bio-top">
            <div class="bio-name">${p.name}</div>
            <div class="tag">${p.role}</div>
          </div>
          <div class="bio-text">${p.bio}</div>
          <div class="row">${chips}</div>
        </div>
      `;
    }

    function selectPerson(i, focus){
      selectedIndex = Math.max(0, Math.min(PEOPLE.length - 1, i));
      [...peopleList.querySelectorAll(".person-btn")].forEach((b, idx) => {
        b.setAttribute("aria-selected", idx === selectedIndex ? "true" : "false");
      });
      renderBio(selectedIndex);

      const btn = peopleList.querySelector(`.person-btn[data-index="${selectedIndex}"]`);
      if(btn){
        btn.scrollIntoView({ block:"nearest" });
        if(focus) btn.focus({ preventScroll:true });
      }
    }

    // ---------- BOTTOM: LOOPING TICKER (auto + user controlled) ----------
    const ticker = document.getElementById("ticker");
    const tickerTrack = document.getElementById("tickerTrack");
    const clientCount = document.getElementById("clientCount");
    const toggleBtn = document.getElementById("toggleBtn");
    const speedLabel = document.getElementById("speedLabel");

    function clientCardHTML(c){
      const chips = (c.chips || []).map(x => `<span class="chip">${x}</span>`).join("");
      return `
        <div class="client">
          <div>
            <div class="title">${c.title}</div>
            <div class="meta">${c.meta}</div>
          </div>
          <div class="row">${chips}</div>
        </div>
      `;
    }

    function buildTicker(){
      tickerTrack.innerHTML = "";
      const fragA = document.createElement("div");
      fragA.style.display = "flex";
      fragA.style.gap = "10px";
      fragA.style.alignItems = "stretch";
      fragA.id = "setA";

      CLIENTS.forEach(c => fragA.insertAdjacentHTML("beforeend", clientCardHTML(c)));

      const fragB = fragA.cloneNode(true);
      fragB.id = "setB";

      tickerTrack.appendChild(fragA);
      tickerTrack.appendChild(fragB);

      clientCount.textContent = String(CLIENTS.length).padStart(2,"0");

      requestAnimationFrame(() => {
        setWidth = fragA.getBoundingClientRect().width;
      });
    }

    let setWidth = 0;
    let offset = 0;
    let baseSpeed = 0.55;   // px per frame at 1.0x
    let speedMult = 1.0;
    let paused = false;
    let rafId = null;

    function renderSpeed(){
      speedLabel.textContent = `SPD: ${speedMult.toFixed(1)}X`;
    }

    function step(){
      if(!paused && setWidth > 0){
        offset += baseSpeed * speedMult;
        if(offset >= setWidth) offset -= setWidth; // seamless wrap
        tickerTrack.style.transform = `translateX(${-offset}px)`;
      }
      rafId = requestAnimationFrame(step);
    }

    function toggleAuto(){
      paused = !paused;
      toggleBtn.textContent = paused ? "PLAY" : "PAUSE";
    }

    toggleBtn.addEventListener("click", toggleAuto);

    // Hover pauses (optional, feels nice)
    ticker.addEventListener("mouseenter", () => { paused = true; toggleBtn.textContent = "PLAY"; });
    ticker.addEventListener("mouseleave", () => { paused = false; toggleBtn.textContent = "PAUSE"; });

    // Wheel nudges + resumes
    function nudgeTicker(delta){
      paused = true;
      toggleBtn.textContent = "PLAY";
      offset += delta;
      if(setWidth > 0){
        offset = ((offset % setWidth) + setWidth) % setWidth;
      }
      tickerTrack.style.transform = `translateX(${-offset}px)`;
      clearTimeout(ticker._resumeT);
      ticker._resumeT = setTimeout(() => {
        paused = false;
        toggleBtn.textContent = "PAUSE";
      }, 900);
    }

    document.addEventListener("keydown", (e) => {
      const tag = (e.target && e.target.tagName) ? e.target.tagName.toLowerCase() : "";
      if(tag === "input" || tag === "textarea") return;

      if(e.key === "ArrowUp"){ e.preventDefault(); selectPerson(selectedIndex - 1, true); }
      if(e.key === "ArrowDown"){ e.preventDefault(); selectPerson(selectedIndex + 1, true); }
      if(e.key === "Enter"){ e.preventDefault(); renderBio(selectedIndex); }

      // ticker control
      if(e.key === "ArrowLeft"){ nudgeTicker(-80); }
      if(e.key === "ArrowRight"){ nudgeTicker(80); }
      if(e.key === " "){
        const active = document.activeElement;
        if(active && active.classList && active.classList.contains("person-btn")) return;
        e.preventDefault();
        toggleAuto();
      }

      // Optional speed control via +/- keys
      if(e.key === "+" || e.key === "="){
        speedMult = Math.min(3.0, speedMult + 0.1);
        renderSpeed();
      }
      if(e.key === "-" || e.key === "_"){
        speedMult = Math.max(0.2, speedMult - 0.1);
        renderSpeed();
      }
    });

    ticker.addEventListener("wheel", (e) => {
      e.preventDefault();
      const delta = (e.deltaY + e.deltaX) * 0.8;
      nudgeTicker(delta);
    }, { passive:false });

    // Drag control
    let dragging = false;
    let lastX = 0;

    ticker.addEventListener("pointerdown", (e) => {
      dragging = true;
      lastX = e.clientX;
      paused = true;
      toggleBtn.textContent = "PLAY";
      ticker.setPointerCapture(e.pointerId);
    });

    ticker.addEventListener("pointermove", (e) => {
      if(!dragging) return;
      const dx = e.clientX - lastX;
      lastX = e.clientX;
      offset -= dx;
      if(setWidth > 0){
        offset = ((offset % setWidth) + setWidth) % setWidth;
      }
      tickerTrack.style.transform = `translateX(${-offset}px)`;
    });

    ticker.addEventListener("pointerup", () => {
      dragging = false;
      clearTimeout(ticker._resumeT);
      ticker._resumeT = setTimeout(() => {
        paused = false;
        toggleBtn.textContent = "PAUSE";
      }, 800);
    });

    window.addEventListener("resize", () => {
      const a = document.getElementById("setA");
      if(a) setWidth = a.getBoundingClientRect().width;
    });

    // ---------- INIT ----------
    renderPeopleList();
    renderBio(selectedIndex);
    selectPerson(0, false);

    buildTicker();
    renderSpeed();
    step();
  </script>
</body>
</html>
